<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π</h1>

        <form method="POST">
            <div class="form-group">
                <label>–î–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è:</label>
                <input type="number" name="length" min="4" max="50" value="12">
            </div>

            <div class="form-group">
                <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è:</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="complexity" value="1" checked>
                        <span class="radio-custom"></span>
                        <span class="radio-label">–ü—Ä–æ—Å—Ç–æ–π (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="complexity" value="2">
                        <span class="radio-custom"></span>
                        <span class="radio-label">–°—Ä–µ–¥–Ω–∏–π (–±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã)</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="complexity" value="3">
                        <span class="radio-custom"></span>
                        <span class="radio-label">–°–ª–æ–∂–Ω—ã–π (–±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã + —Å–∏–º–≤–æ–ª—ã)</span>
                    </label>
                </div>
            </div>

            <button type="submit">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>
        </form>

        {% if password %}
        <div class="result">
            <h3>–í–∞—à –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</h3>
            <div class="password" id="passwordText">{{ password }}</div>
            <button onclick="copyPassword()" id="copyBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>
        </div>
        {% endif %}
    </div>

    <script>
        function copyPassword() {
            const passwordText = document.getElementById('passwordText').textContent;
            navigator.clipboard.writeText(passwordText).then(() => {
                const btn = document.getElementById('copyBtn');
                btn.textContent = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                btn.classList.add('copied');

                setTimeout(() => {
                    btn.textContent = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            const radioOptions = document.querySelectorAll('.radio-option');

            radioOptions.forEach(option => {
                option.addEventListener('click', function() {
                    radioOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                });
            });
        });
    </script>
</body>
</html>